{
  "name": "Todo",
  "description": "Todos with LocalStorage persistence",
  "files": [
    {
      "name": "main",
      "content": [
        "import { createEffect, For } from \"solid-js\";",
        "import { createStore, SetStoreFunction, Store } from \"solid-js/store\";",
        "import { render } from \"solid-js/web\";",
        "",
        "function createLocalStore<T>(initState: T): [Store<T>, SetStoreFunction<T>] {",
        "\tconst [state, setState] = createStore(initState);",
        "\tif (localStorage.todos) setState(JSON.parse(localStorage.todos));",
        "\tcreateEffect(() => (localStorage.todos = JSON.stringify(state)));",
        "\treturn [state, setState];",
        "}",
        "",
        "const App = () => {",
        "\tconst [state, setState] = createLocalStore({",
        "\t\ttodos: [],",
        "\t\tnewTitle: \"\"",
        "\t});",
        "\treturn (",
        "\t\t<>",
        "\t\t\t<h3>Simple Todos Example</h3>",
        "\t\t\t<input",
        "\t\t\t\ttype=\"text\"",
        "\t\t\t\tplaceholder=\"enter todo and click +\"",
        "\t\t\t\tvalue={state.newTitle}",
        "\t\t\t\tonInput={(e) => setState({ newTitle: e.target.value })}",
        "\t\t\t/>",
        "\t\t\t<button",
        "\t\t\t\tonClick={() =>",
        "\t\t\t\t\tsetState({",
        "\t\t\t\t\t\ttodos: [",
        "\t\t\t\t\t\t\t...state.todos,",
        "\t\t\t\t\t\t\t{",
        "\t\t\t\t\t\t\t\ttitle: state.newTitle,",
        "\t\t\t\t\t\t\t\tdone: false",
        "\t\t\t\t\t\t\t}",
        "\t\t\t\t\t\t],",
        "\t\t\t\t\t\tnewTitle: \"\"",
        "\t\t\t\t\t})",
        "\t\t\t\t}",
        "\t\t\t>",
        "\t\t\t\t+",
        "\t\t\t</button>",
        "\t\t\t<For each={state.todos}>",
        "\t\t\t\t{(todo, i) => {",
        "\t\t\t\t\tconst { done, title } = todo;",
        "\t\t\t\t\treturn (",
        "\t\t\t\t\t\t<div>",
        "\t\t\t\t\t\t\t<input",
        "\t\t\t\t\t\t\t\ttype=\"checkbox\"",
        "\t\t\t\t\t\t\t\tchecked={done}",
        "\t\t\t\t\t\t\t\tonChange={(e) =>",
        "\t\t\t\t\t\t\t\t\tsetState(\"todos\", i(), { done: e.target.checked })",
        "\t\t\t\t\t\t\t\t}",
        "\t\t\t\t\t\t\t/>",
        "\t\t\t\t\t\t\t<input",
        "\t\t\t\t\t\t\t\ttype=\"text\"",
        "\t\t\t\t\t\t\t\tvalue={title}",
        "\t\t\t\t\t\t\t\tonChange={(e) =>",
        "\t\t\t\t\t\t\t\t\tsetState(\"todos\", i(), { title: e.target.value })",
        "\t\t\t\t\t\t\t\t}",
        "\t\t\t\t\t\t\t/>",
        "\t\t\t\t\t\t\t<button",
        "\t\t\t\t\t\t\t\tonClick={() =>",
        "\t\t\t\t\t\t\t\t\tsetState(\"todos\", (t) => [",
        "\t\t\t\t\t\t\t\t\t\t...t.slice(0, i()),",
        "\t\t\t\t\t\t\t\t\t\t...t.slice(i() + 1)",
        "\t\t\t\t\t\t\t\t\t])",
        "\t\t\t\t\t\t\t\t}",
        "\t\t\t\t\t\t\t>",
        "\t\t\t\t\t\t\t\tx",
        "\t\t\t\t\t\t\t</button>",
        "\t\t\t\t\t\t</div>",
        "\t\t\t\t\t);",
        "\t\t\t\t}}",
        "\t\t\t</For>",
        "\t\t</>",
        "\t);",
        "};",
        "",
        "render(App, document.getElementById(\"app\"));"
      ]
    }
  ]
}
